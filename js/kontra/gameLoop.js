!function(d,m,h){d.gameLoop=function(e){var n,t,a,o,r=(e=e||{}).fps||60,i=0,c=1e3/r,p=1/r,s=!1===e.clearCanvas?d._noop:function(){d.context.clearRect(0,0,d.canvas.width,d.canvas.height)};function f(){if(t=m(f),a=h.now(),o=a-n,n=a,!(1e3<o)){for(d._tick(),i+=o;c<=i;)u.update(p),i-=c;s(),u.render()}}var u={update:e.update,render:e.render,isStopped:!0,start:function(){n=h.now(),this.isStopped=!1,m(f)},stop:function(){this.isStopped=!0,cancelAnimationFrame(t)},_frame:f,set _last(e){n=e}};return u}}(kontra,requestAnimationFrame,performance);